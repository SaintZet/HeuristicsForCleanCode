if (buffer.shouldCompact())
    
//is preferable to

if (!buffer.shouldNotCompact())
